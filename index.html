<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <title>Maqueta ADN - Bioquímica y Biología Molecular</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: #050816;
      color: #f3f3f3;
      overflow-x: hidden;
    }

    canvas#particles {
      position: fixed;
      inset: 0;
      z-index: -1;
    }

    header {
      text-align: center;
      padding: 1.8rem 1rem 1.2rem;
    }

    header h1 {
      font-size: 1.8rem;
      margin-bottom: 0.4rem;
    }

    header p {
      max-width: 700px;
      margin: 0.1rem auto;
      opacity: 0.85;
      font-size: 0.9rem;
    }

    .project-info {
      margin-top: 0.6rem;
      display: inline-block;
      padding: 0.55rem 1rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      background: rgba(15, 23, 42, 0.9);
      font-size: 0.82rem;
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.55);
    }

    .project-info strong {
      color: #bfdbfe;
    }

    main {
      max-width: 900px;
      margin: 0 auto 2rem;
      padding: 0 1rem 2.5rem;
    }

    section.card {
      background: rgba(10, 10, 25, 0.94);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.06);
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
      padding: 1.3rem;
      margin-bottom: 1.5rem;
      backdrop-filter: blur(10px);
    }

    section.card h2 {
      font-size: 1.25rem;
      margin-bottom: 0.6rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
      padding-bottom: 0.3rem;
    }

    section.card p,
    section.card li {
      font-size: 0.9rem;
      line-height: 1.6;
      opacity: 0.9;
    }

    ul {
      margin-left: 1.2rem;
      margin-top: 0.4rem;
    }

    .btn {
      display: inline-block;
      padding: 0.5rem 1rem;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.85rem;
      margin-top: 0.6rem;
      background: linear-gradient(135deg, #3b82f6, #22c55e);
      color: white;
      font-weight: 600;
      transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.45);
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(0, 0, 0, 0.6);
      opacity: 0.95;
    }

    .btn.secondary {
      background: transparent;
      border: 1px solid rgba(148, 163, 184, 0.7);
      box-shadow: none;
    }

    .two-cols {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      gap: 1rem;
      align-items: center;
    }

    @media (max-width: 800px) {
      .two-cols {
        grid-template-columns: 1fr;
      }
    }

    /* ======================
       ADN ANIMADO + ANOTACIONES
       ====================== */

    .dna-container {
      position: relative;
      height: 260px;
      display: flex;
      align-items: center;
      justify-content: center;
      perspective: 900px;
    }

    .dna-helix {
      position: relative;
      width: 160px;
      height: 230px;
      transform-style: preserve-3d;
      animation: spin 10s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotateY(0deg);
      }

      100% {
        transform: rotateY(360deg);
      }
    }

    .dna-step {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #38bdf8;
      /* Bases 1 */
      box-shadow: 0 0 10px rgba(56, 189, 248, 0.8);
    }

    .dna-step::before,
    .dna-step::after {
      content: "";
      position: absolute;
      top: 50%;
      width: 70px;
      height: 4px;
      margin-top: -2px;
      border-radius: 999px;
      background: linear-gradient(90deg, #22c55e, #eab308);
      /* esqueleto azúcar-fosfato */
    }

    .dna-step::before {
      right: 5px;
      transform-origin: right;
    }

    .dna-step::after {
      left: 5px;
      transform-origin: left;
    }

    .dna-label {
      margin-top: 0.4rem;
      font-size: 0.8rem;
      text-align: center;
      opacity: 0.8;
    }

    /* Anotaciones alrededor de la hélice */

    .dna-annotation {
      position: absolute;
      font-size: 0.72rem;
      background: rgba(15, 23, 42, 0.95);
      padding: 0.22rem 0.55rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.8);
      white-space: nowrap;
      z-index: 2;
    }

    .dna-annotation.left {
      transform: translate(-100%, -50%);
    }

    .dna-annotation.right {
      transform: translate(0, -50%);
    }

    .dna-annotation.top {
      transform: translate(-50%, -100%);
    }

    .dna-annotation.bottom {
      transform: translate(-50%, 0%);
    }

    .dna-annotation.left::before,
    .dna-annotation.right::before,
    .dna-annotation.top::before,
    .dna-annotation.bottom::before {
      content: "";
      position: absolute;
      width: 24px;
      height: 1px;
      background: rgba(148, 163, 184, 0.85);
    }

    .dna-annotation.left::before {
      right: -24px;
      top: 50%;
      transform: translateY(-50%);
    }

    .dna-annotation.right::before {
      left: -24px;
      top: 50%;
      transform: translateY(-50%);
    }

    .dna-annotation.top::before {
      left: 50%;
      bottom: -10px;
      width: 1px;
      height: 10px;
      transform: translateX(-50%);
    }

    .dna-annotation.bottom::before {
      left: 50%;
      top: -10px;
      width: 1px;
      height: 10px;
      transform: translateX(-50%);
    }

    .dna-legend {
      margin-top: 0.5rem;
      font-size: 0.8rem;
      opacity: 0.9;
    }

    .dna-legend li {
      margin-bottom: 0.2rem;
    }

    .dna-legend strong {
      color: #bfdbfe;
    }

    /* TEORÍA */

    .theory-block {
      margin-top: 0.6rem;
    }

    .theory-block h3 {
      font-size: 1rem;
      margin-bottom: 0.2rem;
      color: #93c5fd;
    }

    .theory-block p {
      margin-bottom: 0.3rem;
    }

    /* AR / CÁMARA */

    .camera-wrapper {
      position: relative;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(148, 163, 184, 0.5);
      background: rgba(15, 23, 42, 0.9);
      min-height: 260px;
      cursor: crosshair;
    }

    video#camera {
      width: 100%;
      height: 100%;
      object-fit: cover;
      background: #000;
    }

    .ar-overlay-dna {
      position: absolute;
      inset: 0;
      pointer-events: none;
    }

    .ar-overlay-dna-inner {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 190px;
      height: 290px;
      border-radius: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      backdrop-filter: blur(4px);
      background:
        radial-gradient(circle at center, rgba(37, 99, 235, 0.2), transparent),
        radial-gradient(circle at top, rgba(56, 189, 248, 0.15), transparent);
      box-shadow:
        0 0 22px rgba(59, 130, 246, 0.35),
        0 0 40px rgba(59, 130, 246, 0.25);
      border: 1px solid rgba(148, 163, 184, 0.8);
    }

    .dna-helix-ar-wrapper {
      width: 130px;
      height: 230px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .dna-helix-ar {
      width: 130px;
      height: 230px;
    }

    .ar-overlay-dna-inner span {
      font-size: 0.75rem;
      text-align: center;
      opacity: 0.9;
      margin-top: 0.3rem;
    }

    .camera-hint {
      font-size: 0.8rem;
      margin-top: 0.4rem;
      opacity: 0.75;
    }

    .ar-controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      align-items: center;
      margin-top: 0.8rem;
      font-size: 0.8rem;
    }

    .ar-controls label {
      opacity: 0.9;
    }

    .ar-controls input[type="range"] {
      width: 140px;
    }

    .ar-warning {
      font-size: 0.78rem;
      margin-top: 0.4rem;
      opacity: 0.8;
    }

    /* QUIZ */

    .quiz-question {
      margin-bottom: 1rem;
    }

    .quiz-question h3 {
      font-size: 0.95rem;
      margin-bottom: 0.3rem;
    }

    .quiz-options label {
      display: block;
      font-size: 0.88rem;
      margin-bottom: 0.2rem;
      cursor: pointer;
    }

    .quiz-result {
      margin-top: 0.7rem;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .quiz-result.ok {
      color: #4ade80;
    }

    .quiz-result.bad {
      color: #f97373;
    }

    footer {
      text-align: center;
      font-size: 0.78rem;
      opacity: 0.7;
      margin-bottom: 1rem;
    }
  </style>
</head>

<body>
  <canvas id="particles"></canvas>

  <header>
    <h1>Visualizador Interactivo de ADN</h1>
    <p>
      Maqueta digital para Bioquímica y Biología Molecular con visualización 3D y modo tipo realidad aumentada bueno
      intento de realidad aumentada jaja.
    </p>
    <div class="project-info">
      <strong>Alumno:</strong> David Alessandro Hernandez Cervantes &nbsp;|&nbsp;
      <strong>Universidad de Santa Fe</strong> &nbsp;|&nbsp;
      <strong>Licenciatura en Medicina</strong> &nbsp;|&nbsp;
      <strong>Grupo C, Semestre 1</strong>

    </div>
    <div>
      <img src="img1.png" alt="" srcset="" style="filter: invert(1);">
    </div>
  </header>

  <main>
    <!-- =========================
         1. ADN ANIMADO ANOTADO
         ========================== -->
    <section class="card">
      <div class="two-cols">
        <div>
          <h2>1. Estructura general del ADN</h2>
          <p>
            El ácido desoxirribonucleico (ADN) es la molécula que almacena la información genética
            de casi todos los seres vivos. Está formado por <strong>nucleótidos</strong>,
            cada uno compuesto por:
          </p>
          <ul>
            <li>Un azúcar: desoxirribosa.</li>
            <li>Un grupo fosfato.</li>
            <li>Una base nitrogenada (A, T, C o G).</li>
          </ul>
          <p class="theory-block">
            Dos cadenas de nucleótidos se enrollan formando una <strong>doble hélice</strong>, unidas por
            puentes de hidrógeno entre bases complementarias:
          </p>
          <ul>
            <li>Adenina (A) &mdash; Timina (T)</li>
            <li>Citosina (C) &mdash; Guanina (G)</li>
          </ul>
        </div>
        <div>
          <div class="dna-container">
            <div class="dna-helix" id="dna-helix-main"></div>

            <!-- Anotaciones clave -->
            <div class="dna-annotation left" style="top: 20%; left: 10%;">
              Surco menor
            </div>
            <div class="dna-annotation right" style="top: 20%; right: 8%;">
              Surco mayor
            </div>

            <div class="dna-annotation left" style="top: 50%; left: 5%;">
              Esqueleto azúcar-fosfato
            </div>
            <div class="dna-annotation right" style="top: 50%; right: 5%;">
              Pares de bases A–T / C–G
            </div>

            <div class="dna-annotation bottom" style="left: 30%; top: 88%;">
              Extremo 5′ (cadena 1)
            </div>
            <div class="dna-annotation bottom" style="left: 70%; top: 88%;">
              Extremo 3′ (cadena 2)
            </div>

            <div class="dna-annotation top" style="left: 30%; top: 5%;">
              Extremo 3′ (cadena 1)
            </div>
            <div class="dna-annotation top" style="left: 70%; top: 5%;">
              Extremo 5′ (cadena 2)
            </div>
          </div>
          <div class="dna-label">
            Doble hélice de ADN animada con anotaciones estructurales
          </div>
          <ul class="dna-legend">
            <li><strong>Esferas azules/moradas:</strong> bases nitrogenadas.</li>
            <li><strong>Barras verde-amarillas:</strong> esqueleto azúcar-fosfato (enlaces fosfodiéster).</li>
            <li><strong>Surco mayor / menor:</strong> espacios donde interactúan proteínas reguladoras.</li>
            <li><strong>Extremos 5′ y 3′:</strong> direccionalidad de cada cadena (antiparalela).</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- =========================
         2. TEORÍA
         ========================== -->
    <section class="card">
      <h2>2. ADN, genes y cromosomas</h2>

      <div class="theory-block">
        <h3>ADN &rarr; Genes &rarr; Proteínas</h3>
        <p>
          El ADN se organiza en segmentos funcionales llamados <strong>genes</strong>. Cada gen
          contiene la información para sintetizar una proteína o un ARN funcional.
          El flujo clásico de información genética se resume en el <em>dogma central</em>:
        </p>
        <ul>
          <li><strong>Replicación:</strong> el ADN se copia a sí mismo.</li>
          <li><strong>Transcripción:</strong> del ADN se sintetiza ARN.</li>
          <li><strong>Traducción:</strong> del ARN mensajero se sintetiza una proteína.</li>
        </ul>
      </div>

      <div class="theory-block">
        <h3>Cromosomas</h3>
        <p>
          En las células eucariotas, el ADN se empaqueta en estructuras llamadas
          <strong>cromosomas</strong>. Un cromosoma está formado por una larga molécula de ADN
          asociada a proteínas llamadas <strong>histonas</strong>, formando la cromatina.
        </p>
        <p>
          Durante la división celular, los cromosomas se condensan, se duplican y se segregan hacia
          células hijas, asegurando que cada célula reciba una copia casi idéntica de la información
          genética.
        </p>
      </div>

      <button class="btn secondary" onclick="scrollToSection('ar-section')">
        Ir al modo cámara / AR
      </button>
    </section>

    <!-- =========================
         3. AR CON CÁMARA
         ========================== -->
    <section class="card" id="ar-section">
      <h2>3. Visualización tipo realidad aumentada</h2>
      <p>
        En esta sección se usa la cámara del dispositivo como fondo y se superpone una doble hélice
        de ADN animada. Toca sobre la imagen para “colocar” la hélice sobre tu cuaderno, mano o libro,
        y ajusta el tamaño con el control deslizante.
      </p>

      <div style="margin-top: 0.8rem;">
        <button class="btn" id="start-camera-btn">Activar cámara</button>
        <button class="btn secondary" id="stop-camera-btn">Detener cámara</button>
      </div>

      <div class="ar-controls">
        <label for="scale-slider">Tamaño del ADN:</label>
        <input type="range" id="scale-slider" min="70" max="200" value="120" />
        <span id="scale-label">100%</span>
      </div>


      <div class="camera-wrapper" id="camera-wrapper" style="margin-top: 0.8rem;">
        <video id="camera" autoplay playsinline muted></video>
        <div class="ar-overlay-dna">
          <div class="ar-overlay-dna-inner" id="ar-inner">
            <div class="dna-helix-ar-wrapper" id="dna-helix-ar-wrapper">
              <div class="dna-helix dna-helix-ar" id="dna-helix-ar"></div>
            </div>
            <span>
              Toca la imagen para mover la hélice de ADN<br />
              y alinéala con el objeto que quieras señalar.
            </span>
          </div>
        </div>
      </div>
    </section>

    <!-- =========================
         4. QUIZ
         ========================== -->
    <section class="card">
      <h2>4. Mini-quiz de ADN</h2>
      <p>
        Responde las preguntas para reforzar los conceptos clave. Ideal para que tus compañeros o el
        profesor interactúen con la maqueta.
      </p>

      <form id="quiz-form" style="margin-top: 0.8rem;">
        <div class="quiz-question">
          <h3>1. ¿Qué tipo de molécula es el ADN?</h3>
          <div class="quiz-options">
            <label><input type="radio" name="q1" value="a" /> Lípido estructural.</label>
            <label><input type="radio" name="q1" value="b" /> Ácido nucleico.</label>
            <label><input type="radio" name="q1" value="c" /> Proteína globular.</label>
          </div>
        </div>

        <div class="quiz-question">
          <h3>2. ¿Cuál de las siguientes parejas de bases es correcta?</h3>
          <div class="quiz-options">
            <label><input type="radio" name="q2" value="a" /> A–C y G–T.</label>
            <label><input type="radio" name="q2" value="b" /> A–G y C–T.</label>
            <label><input type="radio" name="q2" value="c" /> A–T y C–G.</label>
          </div>
        </div>

        <div class="quiz-question">
          <h3>3. En la célula eucariota, el ADN se organiza principalmente en:</h3>
          <div class="quiz-options">
            <label><input type="radio" name="q3" value="a" /> Ribosomas.</label>
            <label><input type="radio" name="q3" value="b" /> Cromosomas.</label>
            <label><input type="radio" name="q3" value="c" /> Lisosomas.</label>
          </div>
        </div>

        <button type="button" class="btn" id="quiz-submit">
          Calificar
        </button>
        <div id="quiz-result" class="quiz-result"></div>
      </form>
    </section>
  </main>

  <footer>
    Maqueta web de ADN &mdash; Bioquímica y Biología Molecular.
  </footer>

  <script>
    /* Partículas de fondo */
    const canvas = document.getElementById("particles");
    const ctx = canvas.getContext("2d");
    let particles = [];
    const NUM_PARTICLES = 70;

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    function createParticles() {
      particles = [];
      for (let i = 0; i < NUM_PARTICLES; i++) {
        particles.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          vx: (Math.random() - 0.5) * 0.5,
          vy: (Math.random() - 0.5) * 0.5,
          r: Math.random() * 2 + 0.5,
        });
      }
    }

    function drawParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "rgba(148, 163, 184, 0.8)";

      for (const p of particles) {
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fill();

        p.x += p.vx;
        p.y += p.vy;

        if (p.x < 0) p.x = canvas.width;
        if (p.x > canvas.width) p.x = 0;
        if (p.y < 0) p.y = canvas.height;
        if (p.y > canvas.height) p.y = 0;
      }

      requestAnimationFrame(drawParticles);
    }

    createParticles();
    drawParticles();

    /* Hélix ADN */
    function createHelix(elementId, steps, height) {
      const helix = document.getElementById(elementId);
      if (!helix) return;
      helix.innerHTML = "";

      for (let i = 0; i < steps; i++) {
        const step = document.createElement("div");
        step.classList.add("dna-step");

        const y = (i / (steps - 1)) * (height - 20);
        const angle = i * 20;
        const depth = Math.sin((angle * Math.PI) / 180) * 40;

        step.style.top = y + "px";
        step.style.transform = `translateX(-50%) translateZ(${depth}px) rotateY(${angle}deg)`;

        if (i % 2 === 0) {
          step.style.background = "#38bdf8"; // bases 1
        } else {
          step.style.background = "#a855f7"; // bases 2
        }

        helix.appendChild(step);
      }
    }

    createHelix("dna-helix-main", 18, 230);
    createHelix("dna-helix-ar", 16, 220);

    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({
        behavior: "smooth"
      });
    }
    window.scrollToSection = scrollToSection;

    /* Cámara / AR */
    const startCameraBtn = document.getElementById("start-camera-btn");
    const stopCameraBtn = document.getElementById("stop-camera-btn");
    const cameraVideo = document.getElementById("camera");
    const cameraWrapper = document.getElementById("camera-wrapper");
    const arInner = document.getElementById("ar-inner");
    const scaleSlider = document.getElementById("scale-slider");
    const scaleLabel = document.getElementById("scale-label");
    const dnaHelixArWrapper = document.getElementById("dna-helix-ar-wrapper");
    let cameraStream = null;
    let currentScale = 1;

    async function startCamera() {
      try {
        const constraints = {
          audio: false,
          video: {
            facingMode: {
              ideal: "environment"
            },
            width: {
              ideal: 1280
            },
            height: {
              ideal: 720
            }
          }
        };
        cameraStream = await navigator.mediaDevices.getUserMedia(constraints);
        cameraVideo.srcObject = cameraStream;
        await cameraVideo.play();
      } catch (err) {
        console.error(err);
        alert(
          "No se pudo acceder a la cámara.\n\n" +
          "- Asegúrate de que estás abriendo la página con HTTPS o desde localhost.\n" +
          "- Revisa en los ajustes del navegador que tenga permiso de cámara."
        );
      }
    }

    function stopCamera() {
      if (cameraStream) {
        const tracks = cameraStream.getTracks();
        tracks.forEach((t) => t.stop());
        cameraStream = null;
      }
      cameraVideo.srcObject = null;
    }

    startCameraBtn.addEventListener("click", startCamera);
    stopCameraBtn.addEventListener("click", stopCamera);

    cameraWrapper.addEventListener("click", (e) => {
      const rect = cameraWrapper.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;

      arInner.style.left = x + "px";
      arInner.style.top = y + "px";
      arInner.style.transform = "translate(-50%, -50%)";
    });

    scaleSlider.addEventListener("input", () => {
      const value = parseInt(scaleSlider.value, 10);
      currentScale = value / 120;
      dnaHelixArWrapper.style.transform = "scale(" + currentScale + ")";
      scaleLabel.textContent = Math.round(currentScale * 100) + "%";
    });

    dnaHelixArWrapper.style.transform = "scale(" + currentScale + ")";
    scaleLabel.textContent = "100%";

    /* Quiz */
    const quizSubmit = document.getElementById("quiz-submit");
    const quizResult = document.getElementById("quiz-result");

    quizSubmit.addEventListener("click", () => {
      const correctAnswers = {
        q1: "b",
        q2: "c",
        q3: "b",
      };

      let score = 0;
      let total = Object.keys(correctAnswers).length;

      for (const q in correctAnswers) {
        const selected = document.querySelector(
          `input[name="${q}"]:checked`
        );
        if (selected && selected.value === correctAnswers[q]) {
          score++;
        }
      }

      if (score === total) {
        quizResult.textContent =
          "¡Perfecto! Respondiste correctamente " + score + " de " + total + ".";
        quizResult.className = "quiz-result ok";
      } else {
        quizResult.textContent =
          "Obtuviste " +
          score +
          " de " +
          total +
          ". Revisa tus respuestas y vuelve a intentarlo.";
        quizResult.className = "quiz-result bad";
      }
    });
  </script>
</body>

</html>